<!DOCTYPE html>
<html lang="en">

<head>

    <title>LISTADO DE ASISTIDOS</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">
    <!-- Sweet Alert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.9/dist/sweetalert2.all.min.js"></script>
    <!-- CHART.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.1/chart.min.js"></script>
    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
    <!-- PDF - AUTOTABLE -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/2.3.2/jspdf.plugin.autotable.js"></script>

    <!-- EXCEL -->
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>

    <style>
        * {
            font-family: 'kanit';

        }

        .table-container {
            max-height: 550px;
            overflow-y: auto;
        }

        thead {
            position: sticky;
            top: 0;
            background-color: brown;
            color: white;
        }
    </style>
</head>

<body>

    <!-- NAVEGADOR -->
    <nav class="navbar navbar-expand-sm bg-info navbar-dark">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="navbar-brand" href="asistencia.html">ASISTENCIA</a>
            </li>
            <li class="nav-item">
                <a class="navbar-brand" href="libreria.html">BIBLIOTECA</a>
            </li>
        </ul>

    </nav>
    <br><br>


    <div class="container">
        <h1 class="text-center">LISTA DE ASISTIDOS: SECUNDARIA PERU EE-UU N° 6062</h1>
        <!-- BOTONES FILTRO -->
        <div class="row">
            <div class="row">
                <!-- FILTRO DNI -->
                <div class="col-md-6 p-0">
                    <div class="form-group">
                        <input type="text" class="form-control ml-3" id="txtfiltroDni" placeholder="buscar por DNI"
                            onkeyup="if(event.keyCode==13) listar()">
                    </div>
                </div>
                <!-- FILTRO TURNO -->
                <div class="col-md-6 p-0">
                    <div class="form-group ml-3">
                        <select class="form-control ml-3" id="cboFiltroTurno"></select>
                    </div>
                </div>
            </div>
        </div>


        <div class="row">
            <button type="button" class="btn btn-warning m-1" onclick="listar()">ASISTENCIAS</button>
            <button type="button" class="btn btn-success m-1" data-toggle="modal" data-target="#modalForm"
                onclick="limpiarForm()">REGISTRAR</button>
            <button type="button" class="btn btn-danger m-1" data-toggle="modal" data-target="#modalReporte"
                onclick="showReporte()">REPORTE</button>
            <button type="button" class="btn btn-info m-1" onclick="bajarPdf()">PDF</button>
            <button type="button" class="btn btn-success m-1" onclick="importarExcel()">EXCEL</button>
        </div>
        <br>
        <!-- TABLA DE ASISTENCIAS -->
        <div class="row">
            <div class="table-container">
                <table class="table table-bordered" id="tablaAsistencia">
                    <thead>
                        <tr>
                            <td>Nro de llegada</td>
                            <td>Nombres</td>
                            <td>Apellidos</td>
                            <td>Dni</td>
                            <td>Turno</td>
                            <td>Grado y Sección</td>
                            <td>Estado</td>
                            <td>Acciones</td>
                        </tr>
                    <tbody id="dataAsistencia">

                    </tbody>
                    </thead>
                </table>
            </div>
        </div>    
    </div>

</body>

</html>
<!-- MODAL RESGISTRO -->
<div class="modal" id="modalForm">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4>REGISTRA LA ASISTENCIA</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="txtOrdenLlegada">Nro de llegada</label>
                        <input type="text" class="form-control" id="txtOrdenLlegada" value="0" readonly>
                    </div>
                    <div class="form-group">
                        <label for="txtNombreAlumno">Nombres</label>
                        <input type="text" class="form-control" id="txtNombreAlumno" >
                    </div>
                    <div class="form-group">
                        <label for="txtApellidoAlumno">Apellidos</label>
                        <input type="text" class="form-control" id="txtApellidoAlumno">
                    </div>
                    <div class="form-group">
                        <label for="txtDniAlumno">Dni</label>
                        <input type="text" class="form-control" id="txtDniAlumno" required>
                    </div>
                    <div class="form-group">
                        <label for="cboTurno">Turno</label>
                        <select class="form-control" id="cboTurno" required>

                        </select>
                    </div>
                    <div class="form-group">
                        <label for="txtGradoAlumno">Grado y Seccion</label>
                        <input type="text" class="form-control" id="txtGradoAlumno">
                    </div>
                    <div class="form-group">
                        <label for="cboEstado">Estado</label>
                        <select class="form-control" id="cboEstado" required>

                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-success" data-dismiss="modal" onclick="guardar()">Guardar</button>
            </div>
        </div>
    </div>
</div>

<!-- MODAL PARA MOSTRAR EL REPORTE -->
<div class="modal" id="modalReporte">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4>RESUMEN DE ASISTENCIAS: ALUMNOS SECUNDARIA</h4>
            </div>
            <div class="modal-body">
                <canvas id="grafico"></canvas>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">SALIR</button>
            </div>
        </div>
    </div>
</div>

<script src="asistencia.js" type="text/javascript"></script>